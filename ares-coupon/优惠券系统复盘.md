## 优惠券系统复盘

### 创建优惠券

- 优惠券的本质就是一套规则的组合。主要包含以下几部分
    - 基本信息：包括优惠券名称、发放数量、优惠券是否可叠加、每人限领张数、是否与其他促销同时使用（优惠券等级）、使用规则等
    - 优惠类型：需要根据实际情况和用户群体去设计。主要有满减、立减、折扣券和优惠码。满减、立减、折扣属于个人私有券，只能个人账号使用；优惠码属于共有券，给有兑换码并且兑换的用户使用
    - 使用范围：使用优惠券的用户类型、使用优惠券的商品类型、订单类型。用户类型一般指是否区分新老用户、不同等级的用户；商品类型指哪些区域、哪些品类的商品可以使用；订单类型指订单满多少元可以使用、满多少件可以使用。
    - 有效期：有效期一般分两种：固定有效期（xx日之前有效）；有效天数（领取之日30天内有效）多数情况下都会选择第二种，增加紧迫感，促进用户下单。优惠券因涉及金额，通常需要财务审批，财务审批后优惠券ID生成。

### 创建活动

创建的优惠券只是一系列规则的组合，通常还需要一个活动页。活动页上可以放一张优惠券，一可以放多张，具体看业务需求。活动通常包括活动基本信息和分享设置。

- 基本信息

````
包括活动名称、活动时间、活动图片、活动状态和活动规则等。

活动页需要上传的图片和设计者的设计强相关，若活动页是使用者百分百自定义，则需要开发一个自定义配置页面；若只有活动头图和活动规则部分自定义，则需要上传活动头图和活动规则图片（通常由UI设计好）。

优惠券区域因涉及“立即使用”的链接跳转（来自创建优惠券时的URL跳转路径），样式通常在开发环境写好，但可修改上面的文案、字体、颜色等。若优惠券需用户点击“领取”，则还需要领取成功的页面。

活动状态可分为未开始、进行中、已结束。列表页的活动状态和新增页不同，列表页的状态是由新增页的“在线”或“下线”和活动时间共同决定。

需要注意的是：已经发出去的优惠券，即使对应的活动已结束，但只要还在优惠券有效期内，是可以正常使用的。
````

### 优惠券投放

用户获得优惠券的渠道有很多种，主要有以下几种

- 新手注册：用户新注册会获得一张券，用于促进新用户的下单转化。
- 会员领取：类似饿了么，成为会员每月享有20元无门槛红包
- 邀请送券：邀请好友可获得价值多少的优惠券
- 活动送券：法定节假日或特定节日，比如双十一的促销节，一活动页的形式向用户发券
- 分享发券：类似饿了么用户下完单之后讲优惠券分享在朋友圈或微信好友，其他用户点击领取
- 主动触发：通过短信告知用户有优惠券送达，短信中客服上优惠的商品链接，有助于转化，或者使用push的方式去提醒用户。注意这种方式发券会对用户造成打扰，因此注意发券的频率和时间。主动触发多用于刺激留存用户，唤醒沉睡用户。

### 用户领取

用户领取有两种方式：直接领取和点击领取

- 直接领取指用户不需要点击"领取"按钮，进到优惠券页面，优惠券自动落到个人账户，即系统自动发放，常见于活动页或心打开应用的场景下
- 点击领取顾名思义就是需要用户点击一下"领取"按钮，优惠券才会落入个人账户

领取通常伴随着消息通知，如：短信、微信公众号，因此通知系统和营销系统也要打通

### 用户使用

在订单填写页，系统会默认给出面额最大的优惠券，金额相同优先使用先过期的券。用户也可自己选择是否使用优惠券或其他可用优惠券。需要注意的是：在优惠券列表页，达到当前订单总价的优惠券才能使用，其他不可使用优惠券置灰不可选，靠后展示。

### 优惠券退还

优惠券退还要看具体的场景，一般有以下几种：

- 用户下单未支付，取消订单，优惠券可退还；
- 商家在订单未完成的情况下，发起退款操作，优惠券可退还；
- 用户下单支付后，申请退款，优惠券不退还。

### 使用情况分析

使用情况分析是对用户领取、使用优惠券进行数据统计，从而查看活动效果。投入多大成本，带来多大转化率。

常见统计维度如下

- 领取率：优惠券领取总量/优惠券发放总量；
- 使用率：优惠券已使用总量/优惠券已领取总量；
- 优惠总金额：使用该优惠券优惠的总金额；
- 用券总成交额：使用该优惠券的订单付款总金额；
- 优惠总金额：使用该优惠券的付款订单总数；
- 费效比：优惠总金额/用券总成交额；
- 用券笔单价：用券总成交额 / 使用该优惠券的付款订单总数；
- 拉新数：领取过优惠券的用户中，标记为新用户的数量/总用户数。

优惠券状态可分为：待使用、已使用、已过期，已取消。

- 用户领取优惠券后，优惠券处于待使用状态；
- 成功使用优惠券后状态变为已使用；
- 未在有效期内使用的优惠券状态变为已过期；
- 退款的优惠券状态为已取消。